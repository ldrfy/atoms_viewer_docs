---
outline: deep
---

# 文件与数据管理

## 打开文件与拖拽加载

可通过文件对话框选择一个或多个文件，也可直接拖拽到窗口中加载。
多文件会以多图层形式叠加显示，不会覆盖已有图层。

## 支持格式与识别策略

系统优先通过扩展名识别格式，并在必要时通过文件头信息进行嗅探。
若识别不符合预期，可在“导入/解析”面板手动指定格式并重新解析。

支持格式：

- XYZ（.xyz）：结构快照与多帧轨迹。
- LAMMPS-data（.data/.lmp）：read_data/write_data 文件。
- LAMMPS-dump（.dump/.lammpstrj）：轨迹输出，建议包含 id 与 type。
- PDB（.pdb）：生物分子结构与注释信息。

格式说明：

- XYZ 多帧以相同块结构逐帧排列。
- LAMMPS-dump 建议包含 id 与 type 以保证排序稳定。
- LAMMPS-data 可包含 Atom Type Labels 以便映射元素。

## 导入前自检清单

- 扩展名与内容是否一致。
- XYZ 多帧每帧原子数是否完整。
- LAMMPS dump 是否包含 id 与 type 列。
- 文件名过长或包含特殊字符时可先简化。
- 多文件对比时提前统一坐标系。

## 多图层管理

每个文件对应一个图层。可见性、删除与活动图层互不影响。
导出图片/视频只包含可见图层内容。

可见性说明：

- 新文件加载可能暂时隐藏旧图层，避免画面过乱。
- 活动图层与当前编辑图层可能不同，请关注面板提示。

## LAMMPS 类型映射

LAMMPS 文件常以数值 typeid 代表原子类型，需要映射到元素符号以获得
正确颜色与半径。映射按图层独立保存，避免不同文件之间冲突。

映射检查：

- 确认 typeid 与模拟设置一致。
- 逐行映射元素后点击“刷新显示”。

## 刷新与重建

修改映射后点击“刷新显示”重建当前图层，其他图层不受影响。

## 大文件与多帧建议

超大文件解析与重建耗时较长，建议减少可见图层、降低播放 FPS、
必要时关闭键线以提升响应。
